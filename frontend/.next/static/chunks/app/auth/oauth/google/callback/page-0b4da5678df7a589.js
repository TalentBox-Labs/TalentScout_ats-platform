(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[301],{2005:function(t,e,a){Promise.resolve().then(a.bind(a,9593))},9593:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return c}});var n=a(7437),s=a(2265),i=a(9376),r=a(9116);function c(){let t=(0,i.useRouter)(),[e,a]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{try{let e=new URLSearchParams(window.location.search),n=e.get("access_token"),s=e.get("refresh_token");n&&s?(localStorage.setItem("access_token",n),localStorage.setItem("refresh_token",s),r.x.setAuthToken(n),t.push("/dashboard")):(a("OAuth authentication failed"),setTimeout(()=>t.push("/auth/login"),2e3))}catch(e){a("Authentication failed"),setTimeout(()=>t.push("/auth/login"),2e3)}})()},[t]),(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4",children:(0,n.jsx)("div",{className:"w-full max-w-md",children:(0,n.jsx)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6 sm:p-8 text-center",children:e?(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:(0,n.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,n.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Authentication Failed"}),(0,n.jsx)("p",{className:"text-gray-600",children:e}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Redirecting to login..."})]}):(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto animate-spin",children:(0,n.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,n.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Signing you in..."}),(0,n.jsx)("p",{className:"text-gray-600",children:"Please wait while we complete your authentication."})]})})})})}},9116:function(t,e,a){"use strict";a.d(e,{x:function(){return r}});var n=a(3464);let s="http://localhost:8000";class i{getToken(){return localStorage.getItem("access_token")}setToken(t){localStorage.setItem("access_token",t)}setRefreshToken(t){localStorage.setItem("refresh_token",t)}getRefreshToken(){return localStorage.getItem("refresh_token")}clearToken(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}setAuthToken(t){this.setToken(t)}async login(t,e){let a=new URLSearchParams;a.append("username",t),a.append("password",e);let n=await this.client.post("/api/v1/auth/login",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});return this.setToken(n.data.access_token),n.data.refresh_token&&this.setRefreshToken(n.data.refresh_token),n.data}async register(t){let e=await this.client.post("/api/v1/auth/register",{email:t.email,password:t.password,first_name:t.first_name,last_name:t.last_name,organization_name:t.organization_name},{headers:{"Content-Type":"application/json"}});return this.setToken(e.data.access_token),e.data.refresh_token&&this.setRefreshToken(e.data.refresh_token),e.data}async refreshAccessToken(){let t=this.getRefreshToken();if(!t)throw Error("No refresh token available");let e=await this.client.post("/api/v1/auth/refresh",{refresh_token:t});return this.setToken(e.data.access_token),e.data}async forgotPassword(t){return(await this.client.post("/api/v1/auth/forgot-password",{email:t})).data}async resetPassword(t,e){return(await this.client.post("/api/v1/auth/reset-password",{token:t,new_password:e})).data}async getCurrentUser(){return(await this.client.get("/api/v1/auth/me")).data}async logout(){this.clearToken()}async getJobs(t){return(await this.client.get("/api/v1/jobs",{params:t})).data}async getJob(t){return(await this.client.get("/api/v1/jobs/".concat(t))).data}async createJob(t){return(await this.client.post("/api/v1/jobs",t)).data}async updateJob(t,e){return(await this.client.patch("/api/v1/jobs/".concat(t),e)).data}async deleteJob(t){await this.client.delete("/api/v1/jobs/".concat(t))}async getCandidates(t){return(await this.client.get("/api/v1/candidates",{params:t})).data}async getCandidate(t){return(await this.client.get("/api/v1/candidates/".concat(t))).data}async createCandidate(t){return(await this.client.post("/api/v1/candidates",t)).data}async updateCandidate(t,e){return(await this.client.patch("/api/v1/candidates/".concat(t),e)).data}async uploadResume(t,e){let a=new FormData;return a.append("file",e),(await this.client.post("/api/v1/candidates/".concat(t,"/resume"),a,{headers:{"Content-Type":"multipart/form-data"}})).data}async getApplications(t){return(await this.client.get("/api/v1/applications",{params:t})).data}async getApplication(t){return(await this.client.get("/api/v1/applications/".concat(t))).data}async createApplication(t){return(await this.client.post("/api/v1/applications",t)).data}async updateApplicationStage(t,e){return(await this.client.patch("/api/v1/applications/".concat(t,"/stage"),{current_stage:e})).data}async getAnalytics(){return(await this.client.get("/api/v1/analytics")).data}async getInterviews(){return(await this.client.get("/api/v1/interviews")).data}async getIntegrations(){return(await this.client.get("/api/v1/integrations")).data}async connectIntegration(t){return(await this.client.post("/api/v1/integrations/".concat(t,"/connect"))).data}async disconnectIntegration(t){return(await this.client.post("/api/v1/integrations/".concat(t,"/disconnect"))).data}async updateIntegrationConfig(t,e){return(await this.client.put("/api/v1/integrations/".concat(t,"/config"),e)).data}async getOnboardingStatus(){return(await this.client.get("/api/v1/onboarding/status")).data}async completeOnboardingStep(t){return(await this.client.post("/api/v1/onboarding/complete/".concat(t))).data}async updateCompany(t){return(await this.client.put("/api/v1/company",t)).data}async parseResume(t){let e=new FormData;return e.append("file",t),(await this.client.post("/api/v1/ai/parse-resume",e,{headers:{"Content-Type":"multipart/form-data"}})).data}async screenCandidate(t){return(await this.client.post("/api/v1/ai/screen/".concat(t))).data}async generateEmail(t){return(await this.client.post("/api/v1/ai/generate-email",{template_type:t.email_type,context:{candidate_name:t.candidate_name,job_title:t.job_title,company_name:t.company_name},tone:t.tone})).data}async getPublicJob(t){return(await n.Z.get("".concat(s,"/api/v1/jobs/public/").concat(t))).data}async getShareLinks(t){return(await this.client.get("/api/v1/jobs/".concat(t,"/share-links"))).data}async trackShare(t,e){return(await this.client.post("/api/v1/jobs/".concat(t,"/track-share"),{platform:e})).data}async updateSalaryVisibility(t,e){return(await this.client.patch("/api/v1/jobs/".concat(t,"/salary-visibility"),{show_salary_public:e})).data}async publishJobPublic(t){return(await this.client.post("/api/v1/jobs/".concat(t,"/publish-public"))).data}async unpublishJob(t){return(await this.client.post("/api/v1/jobs/".concat(t,"/unpublish"))).data}constructor(){this.client=n.Z.create({baseURL:s}),this.client.interceptors.request.use(t=>{let e=this.getToken();return e&&(t.headers.Authorization="Bearer ".concat(e)),t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{var e;return(null===(e=t.response)||void 0===e?void 0:e.status)===401&&(this.clearToken(),window.location.href="/auth/login"),Promise.reject(t)})}}let r=new i},9376:function(t,e,a){"use strict";var n=a(5475);a.o(n,"useParams")&&a.d(e,{useParams:function(){return n.useParams}}),a.o(n,"usePathname")&&a.d(e,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(e,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(e,{useSearchParams:function(){return n.useSearchParams}})}},function(t){t.O(0,[464,971,117,744],function(){return t(t.s=2005)}),_N_E=t.O()}]);